(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b946348a"],{1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),c=n("1d80"),o=n("4840"),s=n("8aa5"),l=n("50c4"),u=n("14c3"),p=n("9263"),d=n("9f7f"),f=d.UNSUPPORTED_Y,h=[].push,v=Math.min,g=4294967295;i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(c(this)),a=void 0===n?g:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,a);var o,s,l,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=new RegExp(t.source,d+"g");while(o=p.call(v,i)){if(s=v.lastIndex,s>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&h.apply(u,o.slice(1)),l=o[0].length,f=s,u.length>=a))break;v.lastIndex===o.index&&v.lastIndex++}return f===i.length?!l&&v.test("")||u.push(""):u.push(i.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=c(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,n):i.call(String(r),e,n)},function(t,r){var c=n(i,t,this,r,i!==e);if(c.done)return c.value;var p=a(t),d=String(this),h=o(p,RegExp),x=p.unicode,m=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(f?"g":"y"),w=new h(f?"^(?:"+p.source+")":p,m),I=void 0===r?g:r>>>0;if(0===I)return[];if(0===d.length)return null===u(w,d)?[d]:[];var y=0,_=0,b=[];while(_<d.length){w.lastIndex=f?0:_;var E,A=u(w,f?d.slice(_):d);if(null===A||(E=v(l(w.lastIndex+(f?_:0)),d.length))===y)_=s(d,_,x);else{if(b.push(d.slice(y,_)),b.length===I)return b;for(var C=1;C<=A.length-1;C++)if(b.push(A[C]),b.length===I)return b;_=y=E}}return b.push(d.slice(y)),b}]}),f)},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),r=n("5899"),a="["+r+"]",c=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,n){var i=n("861d"),r=n("d2bb");t.exports=function(t,e,n){var a,c;return r&&"function"==typeof(a=e.constructor)&&a!==n&&i(c=a.prototype)&&c!==n.prototype&&r(t,c),t}},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),r=n("9f7f"),a=n("5692"),c=RegExp.prototype.exec,o=a("native-string-replace",String.prototype.replace),s=c,l=function(){var t=/a/,e=/b*/g;return c.call(t,"a"),c.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],d=l||p||u;d&&(s=function(t){var e,n,r,a,s=this,d=u&&s.sticky,f=i.call(s),h=s.source,v=0,g=t;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),n=new RegExp("^(?:"+h+")",f)),p&&(n=new RegExp("^"+h+"$(?!\\s)",f)),l&&(e=s.lastIndex),r=c.call(d?n:s,g),d?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:l&&r&&(s.lastIndex=s.global?r.index+r[0].length:e),p&&r&&r.length>1&&o.call(r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),t.exports=s},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var i=n("23e7"),r=n("44ad"),a=n("fc6a"),c=n("a640"),o=[].join,s=r!=Object,l=c("join",",");i({target:"Array",proto:!0,forced:s||!l},{join:function(t){return o.call(a(this),void 0===t?",":t)}})},a9e3:function(t,e,n){"use strict";var i=n("83ab"),r=n("da84"),a=n("94ca"),c=n("6eeb"),o=n("5135"),s=n("c6b6"),l=n("7156"),u=n("c04e"),p=n("d039"),d=n("7c73"),f=n("241c").f,h=n("06cf").f,v=n("9bf2").f,g=n("58a8").trim,x="Number",m=r[x],w=m.prototype,I=s(d(w))==x,y=function(t){var e,n,i,r,a,c,o,s,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(a=l.slice(2),c=a.length,o=0;o<c;o++)if(s=a.charCodeAt(o),s<48||s>r)return NaN;return parseInt(a,i)}return+l};if(a(x,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var _,b=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof b&&(I?p((function(){w.valueOf.call(n)})):s(n)!=x)?l(new m(y(e)),n,b):y(e)},E=i?f(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;E.length>A;A++)o(m,_=E[A])&&!o(b,_)&&v(b,_,h(m,_));b.prototype=w,w.constructor=b,c(r,x,b)}},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b8bb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageproduct"},[t.activeApparel?n("div",{staticClass:"activeApparel"},[n("div",{staticClass:"image"},[n("img",{attrs:{src:t.activeApparel.main_image.url}})]),n("div",{staticClass:"info"},[n("h2",[t._v(t._s(t.$cms.textField(t.activeApparel.title)))]),n("p",{staticClass:"desc"},[t._v(t._s(t.$cms.textField(t.activeApparel.description)))]),n("h3",{staticClass:"price"},[t.activeApparel.from?n("span",{staticClass:"small"},[t._v("from ")]):t._e(),t._v(" "+t._s(t.activeApparel.currency.includes("$")?"$":"")+t._s(t.$cms.textField(t.activeApparel.price))+" "),n("span",{staticClass:"small"},[t._v(t._s(t.activeApparel.currency.split("$")[1]))])]),t.stripeVariations.length&&t.active?n("div",{staticClass:"dropdown"},[n("h3",[t._v("Size")]),n("div",{attrs:{id:"prompt"},on:{click:function(e){t.showInnerDropdown=!t.showInnerDropdown}}},[n("div",{class:"chevron "+(t.showInnerDropdown?"up":"down")},[t._v("▼")]),n("h4",[t._v(" "+t._s(t.active.variation)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInnerDropdown,expression:"showInnerDropdown"}],staticClass:"inner"},t._l(t.stripeVariations,(function(e,i){return n("p",{key:i,on:{click:function(e){return t.updateActiveVariation(i)}}},[t._v(" "+t._s(e.variation)+" ")])})),0)]):t._e(),n("div",{staticClass:"dropdown qty"},[n("h3",[t._v("Quantity")]),n("div",{attrs:{id:"prompt"},on:{click:function(e){t.showInnerDropdownQty=!t.showInnerDropdownQty}}},[n("div",{class:"chevron "+(t.showInnerDropdownQty?"up":"down")},[t._v(" ▼ ")]),n("h4",[t._v(" "+t._s(t.qty)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInnerDropdownQty,expression:"showInnerDropdownQty"}],staticClass:"inner"},t._l(t.activeApparel.stock?t.activeApparel.stock:20,(function(e,i){return n("p",{key:i,on:{click:function(e){return t.updateQty(i+1)}}},[t._v(" "+t._s(i+1)+" ")])})),0)]),n("br"),t.active.code?n("div",{staticClass:"addtocart button",on:{click:t.updateCart}},[n("h3",[t._v("Add To Cart")])]):t._e(),t.active.code?n("div",{staticClass:"pay button",on:{click:t.redirectToCheckout}},[n("h3",[t._v("Buy Now")])]):t._e(),n("StripeCheckout",{ref:"checkout",attrs:{pk:t.$key,mode:"payment",lineItems:t.stripefriendlyCart(),"success-url":t.landingUrl,"cancel-url":t.cancelURL}}),n("br")],1)]):t._e()])},r=[],a=n("5530"),c=(n("a9e3"),n("159b"),n("d81d"),n("ac1f"),n("1276"),n("a15b"),n("acaf")),o=n("2f62"),s={props:{scrollPos:{type:Number,default:0},scroll:{type:Object,default:function(){}}},computed:Object(a["a"])({},Object(o["b"])(["cart","cartQuantity"])),name:"App",components:{StripeCheckout:c["StripeCheckout"]},mounted:function(){var t=this;this.$apparel.forEach((function(e){e.items.forEach((function(e){t.checkSlug(t.$cms.textField(e.title))&&(t.activeApparel=e)}))})),this.activeApparel||(window.location.href="/"),this.initiateVariations(),this.updateLineItems()},methods:{updateCart:function(){this.$store.commit("addToCart",{obj:this.lineItems[0],qty:this.qty})},updateQty:function(t){this.showInnerDropdownQty=!1,this.qty=t,this.updateLineItems()},stripefriendlyCart:function(){var t=this;return this.lineItems.map((function(){return{price:t.active.code,quantity:t.qty}}))},updateLineItems:function(){this.lineItems=[{price:this.active.code,quantity:this.qty,img:this.activeApparel.main_image.url,name:this.activeApparel.title,cost:this.activeApparel.price,variation:this.active.variation}]},updateActiveVariation:function(t){this.showInnerDropdown=!1,this.active=this.stripeVariations[t],this.updateLineItems()},initiateVariations:function(){this.stripeVariations=this.activeApparel.variations.map((function(t){return{variation:t.text.split(",")[0],code:t.text.split(",")[1]}})),this.active=this.stripeVariations[0]},checkSlug:function(t){return t.toLowerCase().split(" ").join("-")===window.location.pathname.split("/")[1]},redirectToCheckout:function(){this.$refs.checkout.redirectToCheckout()}},data:function(){return{activeApparel:null,lineItems:[],cancelURL:window.location.href,landingUrl:"http://collective.rebj.ca/thanks",showForm:!1,stripeVariations:[],active:null,showInnerDropdown:!1,showInnerDropdownQty:!1,qty:1}}},l=s,u=(n("e7e6"),n("2877")),p=Object(u["a"])(l,i,r,!1,null,null,null);e["default"]=p.exports},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("9263"),a=n("d039"),c=n("b622"),o=n("9112"),s=c("species"),l=RegExp.prototype,u=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){return"$0"==="a".replace(/./,"$0")}(),d=c("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var v=c(t),g=!a((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),x=g&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!g||!x||"replace"===t&&(!u||!p||f)||"split"===t&&!h){var m=/./[v],w=n(v,""[t],(function(t,e,n,i,a){var c=e.exec;return c===r||c===l.exec?g&&!a?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),I=w[0],y=w[1];i(String.prototype,t,I),i(l,v,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}d&&o(l[v],"sham",!0)}},dc4a:function(t,e,n){},e7e6:function(t,e,n){"use strict";n("dc4a")}}]);
//# sourceMappingURL=chunk-b946348a.36b023e6.js.map