(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b946348a"],{1276:function(t,e,n){"use strict";var i=n("d784"),a=n("44e7"),r=n("825a"),s=n("1d80"),o=n("4840"),c=n("8aa5"),l=n("50c4"),u=n("14c3"),d=n("9263"),p=n("9f7f"),h=p.UNSUPPORTED_Y,v=[].push,f=Math.min,g=4294967295;i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(s(this)),r=void 0===n?g:n>>>0;if(0===r)return[];if(void 0===t)return[i];if(!a(t))return e.call(i,t,r);var o,c,l,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=new RegExp(t.source,p+"g");while(o=d.call(f,i)){if(c=f.lastIndex,c>h&&(u.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&v.apply(u,o.slice(1)),l=o[0].length,h=c,u.length>=r))break;f.lastIndex===o.index&&f.lastIndex++}return h===i.length?!l&&f.test("")||u.push(""):u.push(i.slice(h)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a,n):i.call(String(a),e,n)},function(t,a){var s=n(i,t,this,a,i!==e);if(s.done)return s.value;var d=r(t),p=String(this),v=o(d,RegExp),m=d.unicode,w=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"g":"y"),y=new v(h?"^(?:"+d.source+")":d,w),b=void 0===a?g:a>>>0;if(0===b)return[];if(0===p.length)return null===u(y,p)?[p]:[];var _=0,x=0,I=[];while(x<p.length){y.lastIndex=h?0:x;var C,E=u(y,h?p.slice(x):p);if(null===E||(C=f(l(y.lastIndex+(h?x:0)),p.length))===_)x=c(p,x,m);else{if(I.push(p.slice(_,x)),I.length===b)return I;for(var k=1;k<=E.length-1;k++)if(I.push(E[k]),I.length===b)return I;x=_=C}}return I.push(p.slice(_)),I}]}),h)},"14c3":function(t,e,n){var i=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var r=n.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var i=n("1d80"),a=n("5899"),r="["+a+"]",s=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,n){var i=n("861d"),a=n("d2bb");t.exports=function(t,e,n){var r,s;return a&&"function"==typeof(r=e.constructor)&&r!==n&&i(s=r.prototype)&&s!==n.prototype&&a(t,s),t}},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),a=n("9f7f"),r=n("5692"),s=RegExp.prototype.exec,o=r("native-string-replace",String.prototype.replace),c=s,l=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(c=function(t){var e,n,a,r,c=this,p=u&&c.sticky,h=i.call(c),v=c.source,f=0,g=t;return p&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,f++),n=new RegExp("^(?:"+v+")",h)),d&&(n=new RegExp("^"+v+"$(?!\\s)",h)),l&&(e=c.lastIndex),a=s.call(p?n:c,g),p?a?(a.input=a.input.slice(f),a[0]=a[0].slice(f),a.index=c.lastIndex,c.lastIndex+=a[0].length):c.lastIndex=0:l&&a&&(c.lastIndex=c.global?a.index+a[0].length:e),d&&a&&a.length>1&&o.call(a[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(a[r]=void 0)})),a}),t.exports=c},"9f7f":function(t,e,n){"use strict";var i=n("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,n){"use strict";var i=n("23e7"),a=n("44ad"),r=n("fc6a"),s=n("a640"),o=[].join,c=a!=Object,l=s("join",",");i({target:"Array",proto:!0,forced:c||!l},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},a9e3:function(t,e,n){"use strict";var i=n("83ab"),a=n("da84"),r=n("94ca"),s=n("6eeb"),o=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),h=n("241c").f,v=n("06cf").f,f=n("9bf2").f,g=n("58a8").trim,m="Number",w=a[m],y=w.prototype,b=c(p(y))==m,_=function(t){var e,n,i,a,r,s,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+l}for(r=l.slice(2),s=r.length,o=0;o<s;o++)if(c=r.charCodeAt(o),c<48||c>a)return NaN;return parseInt(r,i)}return+l};if(r(m,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var x,I=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof I&&(b?d((function(){y.valueOf.call(n)})):c(n)!=m)?l(new w(_(e)),n,I):_(e)},C=i?h(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;C.length>E;E++)o(w,x=C[E])&&!o(I,x)&&f(I,x,v(w,x));I.prototype=y,y.constructor=I,s(a,m,I)}},ac1f:function(t,e,n){"use strict";var i=n("23e7"),a=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b8bb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageproduct"},[t.activeApparel?n("div",{staticClass:"activeApparel"},[n("div",{staticClass:"image"},[n("img",{attrs:{src:t.activeApparel.main_image.url}})]),n("div",{staticClass:"info"},[n("h2",[t._v(t._s(t.$cms.textField(t.activeApparel.title)))]),n("p",{staticClass:"desc"},[t._v(t._s(t.$cms.textField(t.activeApparel.description)))]),n("h3",{staticClass:"price"},[t.activeApparel.from?n("span",{staticClass:"small"},[t._v("from ")]):t._e(),t._v(" "+t._s(t.activeApparel.currency.includes("$")?"$":"")+t._s(t.$cms.textField(t.activeApparel.price))+" "),n("span",{staticClass:"small"},[t._v(t._s(t.activeApparel.currency.split("$")[1]))])]),t.stripeVariations.length&&t.active?n("div",{staticClass:"dropdown"},[n("h3",[t._v("Size")]),n("div",{attrs:{id:"prompt"},on:{click:function(e){t.showInnerDropdown=!t.showInnerDropdown}}},[n("div",{class:"chevron "+(t.showInnerDropdown?"up":"down")},[t._v("▼")]),n("h4",[t._v(" "+t._s(t.active.variation)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInnerDropdown,expression:"showInnerDropdown"}],staticClass:"inner"},t._l(t.stripeVariations,(function(e,i){return n("p",{key:i,on:{click:function(e){return t.updateActiveVariation(i)}}},[t._v(" "+t._s(e.variation)+" ")])})),0)]):t._e(),n("div",{staticClass:"dropdown qty"},[n("h3",[t._v("Quantity")]),n("div",{attrs:{id:"prompt"},on:{click:function(e){t.showInnerDropdownQty=!t.showInnerDropdownQty}}},[n("div",{class:"chevron "+(t.showInnerDropdownQty?"up":"down")},[t._v(" ▼ ")]),n("h4",[t._v(" "+t._s(t.qty)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showInnerDropdownQty,expression:"showInnerDropdownQty"}],staticClass:"inner"},t._l(t.activeApparel.stock?t.activeApparel.stock:20,(function(e,i){return n("p",{key:i,on:{click:function(e){return t.updateQty(i+1)}}},[t._v(" "+t._s(i+1)+" ")])})),0)]),n("br"),n("form",{directives:[{name:"show",rawName:"v-show",value:t.activeStates,expression:"activeStates"}],staticClass:"addresses",on:{change:t.handleAddressChange}},[n("h3",[t._v("Shipping")]),n("div",{staticClass:"row"},[t._m(0),n("input",{ref:"address",attrs:{required:"",type:"text",name:"address"},domProps:{value:t.address.address}})]),n("div",{staticClass:"row"},[t._m(1),n("select",{key:t.address.country,ref:"states",attrs:{required:""},domProps:{value:t.address.province}},t._l(t.activeStates,(function(e,i){return n("option",{key:i},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",{staticClass:"row"},[t._m(2),n("input",{ref:"postalcode",attrs:{required:"",type:"text",name:"postalcode"},domProps:{value:t.address.postalCode}})]),n("div",{staticClass:"row"},[t._m(3),n("select",{ref:"country",attrs:{required:""},domProps:{value:t.address.country}},t._l(t.countries,(function(e,i){return n("option",{key:i},[t._v(" "+t._s(e)+" ")])})),0)])]),t.lineItems[0].limit>0?n("div",{staticClass:"payrow"},[t.active.code?n("div",{staticClass:"addtocart button",on:{click:t.updateCart}},[n("h3",[t._v("Add To Cart")])]):t._e(),t.active.code?n("div",{staticClass:"pay button",style:t.submitEnabled?"":"pointer-events: none; background: lightgrey;",on:{click:t.redirectToCheckout}},[n("h3",[t._v("Buy Now")])]):t._e()]):n("div",{staticClass:"soldout"},[n("h3",[t._v("Sold Out!")])]),n("StripeCheckout",{ref:"checkout",attrs:{pk:t.$key,mode:"payment",lineItems:t.stripefriendlyCart(),"success-url":t.landingUrl,"cancel-url":t.cancelURL}}),n("br")],1)]):t._e()])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("p",[t._v("Address")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("p",[t._v("Province")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("p",[t._v("Postal Code")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("p",[t._v("Country")])])}],r=n("5530"),s=(n("a9e3"),n("159b"),n("d81d"),n("ac1f"),n("1276"),n("a15b"),n("acaf")),o=n("2f62"),c={props:{scrollPos:{type:Number,default:0},scroll:{type:Object,default:function(){}}},computed:Object(r["a"])({},Object(o["b"])(["cart","cartQuantity","address"])),name:"App",components:{StripeCheckout:s["StripeCheckout"]},watch:{},mounted:function(){var t=this;this.submitEnabledChecker(),this.activeStates="Canada"===this.address.country?this.provinces:this.states,this.$apparel.forEach((function(e){e.items.forEach((function(e){t.checkSlug(t.$cms.textField(e.title))&&(t.activeApparel=e)}))})),this.activeApparel||(window.location.href="/"),this.initiateVariations(),this.updateLineItems()},methods:{handleAddressChange:function(){"Canada"===this.$refs.country.value?this.activeStates=this.provinces:this.activeStates=this.states,this.$store.commit("updateAddress",{address:this.$refs.address.value,postalCode:this.$refs.postalcode.value,province:this.$refs.states.value,country:this.$refs.country.value}),this.submitEnabledChecker()},submitEnabledChecker:function(){this.address.address.length>0&&this.address.postalCode.length>0&&this.address.province.length>0&&this.address.country.length>0?this.submitEnabled=!0:this.submitEnabled=!1},updateCart:function(){this.$store.commit("addToCart",{obj:this.lineItems[0],qty:this.qty})},updateQty:function(t){this.showInnerDropdownQty=!1,this.qty=t,this.updateLineItems()},stripefriendlyCart:function(){var t=this;return this.lineItems.map((function(){return{price:t.active.code,quantity:t.qty}}))},updateLineItems:function(){this.lineItems=[{price:this.active.code,quantity:this.qty,img:this.activeApparel.main_image.url,name:this.activeApparel.title,cost:this.activeApparel.price,variation:this.active.variation,limit:this.activeApparel.stock?this.activeApparel.stock:0}]},updateActiveVariation:function(t){this.showInnerDropdown=!1,this.active=this.stripeVariations[t],this.updateLineItems()},initiateVariations:function(){this.stripeVariations=this.activeApparel.variations.map((function(t){return{variation:t.text.split(",")[0],code:t.text.split(",")[1]}})),this.active=this.stripeVariations[0]},checkSlug:function(t){return t.toLowerCase().split(" ").join("-")===window.location.pathname.split("/")[1]},redirectToCheckout:function(){this.submitEnabled&&this.$refs.checkout.redirectToCheckout()}},data:function(){return{activeApparel:null,lineItems:[],cancelURL:window.location.href,landingUrl:"http://collective.rebj.ca/thanks",showForm:!1,stripeVariations:[],active:null,showInnerDropdown:!1,showInnerDropdownQty:!1,qty:1,submitEnabled:!1,provinces:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"],states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","MontanaNebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","PennsylvaniaRhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],countries:["Canada","United States"],activeStates:null}}},l=c,u=(n("e7e6"),n("2877")),d=Object(u["a"])(l,i,a,!1,null,null,null);e["default"]=d.exports},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),a=n("9263"),r=n("d039"),s=n("b622"),o=n("9112"),c=s("species"),l=RegExp.prototype,u=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),p=s("replace"),h=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),v=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,p){var f=s(t),g=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),m=g&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!g||!m||"replace"===t&&(!u||!d||h)||"split"===t&&!v){var w=/./[f],y=n(f,""[t],(function(t,e,n,i,r){var s=e.exec;return s===a||s===l.exec?g&&!r?{done:!0,value:w.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=y[0],_=y[1];i(String.prototype,t,b),i(l,f,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}p&&o(l[f],"sham",!0)}},dc4a:function(t,e,n){},e7e6:function(t,e,n){"use strict";n("dc4a")}}]);
//# sourceMappingURL=chunk-b946348a.7ca739f6.js.map